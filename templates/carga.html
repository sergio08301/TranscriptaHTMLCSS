<!DOCTYPE html>
<html lang="ca">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>{{ _('Transcriu el teu Document') }}</title>

	<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='img/favicon-16x16.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='img/favicon-32x32.png') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='img/favicon.ico') }}">
</head>
<body class="page-carga">
	{% include 'header.html' %}

	<main class="auth">
		<section class="auth-card">

			<!-- Zona de carga / drop -->
			<article class="card card--drop">
				<!-- Toda la tarjeta actúa como área de drop/click -->
				<label class="uploader" for="uploader-input" id="uploader">
					<!-- Icono subir -->
					<span class="upload-ico" aria-hidden="true">
						<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M56 40V50.6667C56 52.0812 55.4381 53.4377 54.4379 54.4379C53.4377 55.4381 52.0812 56 50.6667 56H13.3333C11.9188 56 10.5623 55.4381 9.5621 54.4379C8.5619 53.4377 8 52.0812 8 50.6667V40" stroke="#16BAC5" stroke-width="5.33333" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M45.3337 21.3333L32.0003 8L18.667 21.3333" stroke="#16BAC5" stroke-width="5.33333" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M32 8V40" stroke="#16BAC5" stroke-width="5.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
					</span>

					<h1 class="upload-title">{{ _('Transcriu el teu Document') }}</h1>

					<p class="upload-sub">
						{{ _('Arrossega i deixa anar el document') }}<br />
						{{ _('mecanografiat o escrit a mà') }}
					</p>

					<p class="upload-types">
						<span class="type">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
								<path d="M4 5h16v14H4z" stroke="#666" stroke-width="1.5" />
								<path d="M7.5 9.5h5L10 12l-2.5-2.5Z" fill="#666"/>
							</svg>
							<span>{{ _('Imatges') }}</span>
						</span>
						<span class="sep">•</span>
						<span class="type">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
								<path d="M6 3h9l3 3v15H6z" stroke="#666" stroke-width="1.5"/>
								<path d="M9 10h6M9 13h6M9 16h6" stroke="#666" stroke-width="1.5" stroke-linecap="round"/>
							</svg>
							<span>PDFs</span>
						</span>
					</p>

					<span class="btn-row">
						<input id="uploader-input" type="file" hidden multiple accept="image/*,.pdf" />
						<span class="btn-ghost" role="button" tabindex="0">{{ _('Tria Fitxer') }}</span>
					</span>

					<!-- Texto auxiliar invisible para screen readers -->
					<span class="sr-only">{{ _('Prem per seleccionar arxius o deixa’ls aquí') }}</span>
				</label>
			</article>

			<!-- Historial reutilizable -->
			{% include 'history.html' %}

		</section>
	</main>

	<!-- JS mínimo para estados drag & drop -->
	<script>
	(function(){
		const zone = document.getElementById('uploader');
		const input = document.getElementById('uploader-input');

		// click desde el pseudo-botón accesible
		zone.addEventListener('keydown', (e) => {
			if ((e.key === 'Enter' || e.key === ' ') && e.target.classList.contains('btn-ghost')) {
				input.click();
			}
		});
		zone.addEventListener('click', (e) => {
			if (e.target.closest('.btn-ghost')) input.click();
		});

		// drag & drop visual
		['dragenter','dragover'].forEach(ev =>
			zone.addEventListener(ev, (e) => { e.preventDefault(); e.stopPropagation(); zone.classList.add('is-dragover'); })
		);
		['dragleave','drop'].forEach(ev =>
			zone.addEventListener(ev, (e) => { e.preventDefault(); e.stopPropagation(); zone.classList.remove('is-dragover'); })
		);

		zone.addEventListener('drop', (e) => {
			// Si quieres procesar los archivos aquí:
			// const files = e.dataTransfer.files;
			// input.files = files; // opcional
		});
	})();
	</script>
</body>
</html>